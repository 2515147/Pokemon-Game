<!doctype html>
<html>
  <head>
    <title>Pokemon</title>
    <style>
      .hidden {
        display: none;
      }

      #encounter_text{
      	height: 30px;
      	text-align: center;
      	padding-top: 15px;
      	margin: auto;
      }

      #sprite_container{
      	height: 225px;
      	width: 225px;
      	padding-top: 50px;
      	padding-bottom: -45px
      	text-align: center;
      	margin: auto;
      }




    </style>
  </head>

  <body>
  	
	<div id="start">
		<b>Pok&eacutemon</b>
        <p>Lorem Ipsum</p>
        <button id="start_btn">Start Game!</button>

    </div>


    <div id="playing" class="hidden">
		Game UI Here
		<br>
      	
      	<div id="encounter_text">
      	</div>
        <!-- sprites will go here -->
		<div id="sprite_container">
		</div>

		<div id="actions_container">
		<button id="explore_btn">Explore</button>
		<button id="catch_btn">Catch!</button>
		</div>
    	</div>

	<!-- bring in jQuery Library -->

	<script
	  src="https://code.jquery.com/jquery-3.5.1.min.js"
	  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
	  crossorigin="anonymous"></script>
	<!-- custom code -->

    <script>
		document.body.style.backgroundColor = '#373737'
		document.getElementById("start").style.color = 'white'
		document.getElementById("start").style.textAlign = 'center'
		document.getElementById("start").style.margin = 'auto'

		document.getElementById("playing").style.color = 'white'
   	  	document.getElementById("playing").style.textAlign = 'center'
   	  	document.getElementById("playing").style.margin = 'auto'

		let start_button = document.getElementById('start_btn')
		let start_panel = document.getElementById("start")
		let playing_panel = document.getElementById("playing")
		let sprite_container = document.getElementById("sprite_container")
		let encounter_text = document.getElementById("encounter_text")
		let explore_button = document.getElementById('explore_btn')
		let catch_button = document.getElementById('catch_btn')


		var assets = ['sprites/reshiram.gif', 'sprites/pikachu.gif']
		var encounter = []

        start_button.onclick = function(event) {
        	start_panel.classList.add('hidden')
        	playing_panel.classList.remove('hidden')
		}

		catch_button.disabled = true;

		explore_button.addEventListener("click", function(){

			let i = parseInt( Math.random() * assets.length )
			encounter.push(assets[i])

			//add our enounter text
			$("#encounter_text").css({opacity:100});
			let encounter_name = assets[i].substring(8).split(".")[0]
			encounter_name = encounter_name.charAt(0).toUpperCase() + encounter_name.slice(1);
			encounter_text.innerHTML = "You have encountered a wild " + encounter_name + "!"


			// add our encounter sprite
            let curr_encounter = document.createElement('img')
            curr_encounter.src = assets[i]
            curr_encounter.style.margin = 'auto'
            curr_encounter.style.width = '190px'
            curr_encounter.style.height = '165px'
            sprite_container.appendChild(curr_encounter)
       		catch_button.disabled = false;
			explore_button.disabled = true;


		});


		catch_button.addEventListener("click", function(){

			encounter_text.innerHTML = "Pokemon sucessfully caught!";
			$("#encounter_text").animate({opacity:0},1000);


			setTimeout(function(){
			    explore_button.disabled = false;
			}, 1000);


			$("#sprite_container img").fadeOut(1000, function(){ 
    			$(this).remove();
			});


			encounter.pop()
			catch_button.disabled = true;
		});



		// shuffle function if necessary
		function shuffle(array) { 
    		for (var i = array.length - 1; i > 0; i--) {
        		var j = Math.floor(Math.random() * (i + 1));
        		var temp = array[i];
        		array[i] = array[j];
        		array[j] = temp;
    	}
    }
    </script>

  </body>

</html>

